{"version":3,"sources":["../node_modules/antd/es/divider/index.js","components/OutCategories.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Divider","props","React","ConfigConsumer","_ref","_classNames","getPrefixCls","direction","customizePrefixCls","prefixCls","_props$type","type","_props$orientation","orientation","className","children","dashed","plain","restProps","orientationPrefix","concat","hasChildren","classString","classNames","role","OutCategories","style","padding","ConstMonthsText","monthIndex","pagination","scroll","y","loading","dataCategory","columns","title","dataIndex","align","sorter","a","b","amount","defaultSortOrder","dataSource","mapCategoryAmount","Map","dataBill","filter","v","Number","dayjs","time","month","forEach","EnumBill","Out","category","prevAmount","get","set","arrayCategoryAmount","k","c","find","vc","id","push","name","checkOutCategoryData"],"mappings":"sNAAA,SAASA,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAgBC,EAAKP,EAAKQ,GAAiK,OAApJR,KAAOO,EAAOd,OAAOgB,eAAeF,EAAKP,EAAK,CAAEQ,MAAOA,EAAOE,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBL,EAAIP,GAAOQ,EAAgBD,EAE3M,IAAIM,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRrB,OAAOQ,UAAUC,eAAeC,KAAKW,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCrB,OAAO0B,sBAA2C,KAAIvB,EAAI,EAAb,IAAgBqB,EAAIxB,OAAO0B,sBAAsBL,GAAIlB,EAAIqB,EAAEnB,OAAQF,IAClImB,EAAEG,QAAQD,EAAErB,IAAM,GAAKH,OAAOQ,UAAUmB,qBAAqBjB,KAAKW,EAAGG,EAAErB,MAAKoB,EAAEC,EAAErB,IAAMkB,EAAEG,EAAErB,KAEhG,OAAOoB,GAuCMK,EAhCD,SAAiBC,GAC7B,OAAoBC,gBAAoBC,IAAgB,MAAM,SAAUC,GACtE,IAAIC,EAEAC,EAAeF,EAAKE,aACpBC,EAAYH,EAAKG,UAEjBC,EAAqBP,EAAMQ,UAC3BC,EAAcT,EAAMU,KACpBA,OAAuB,IAAhBD,EAAyB,aAAeA,EAC/CE,EAAqBX,EAAMY,YAC3BA,OAAqC,IAAvBD,EAAgC,SAAWA,EACzDE,EAAYb,EAAMa,UAClBC,EAAWd,EAAMc,SACjBC,EAASf,EAAMe,OACfC,EAAQhB,EAAMgB,MACdC,EAAY1B,EAAOS,EAAO,CAAC,YAAa,OAAQ,cAAe,YAAa,WAAY,SAAU,UAElGQ,EAAYH,EAAa,UAAWE,GACpCW,EAAoBN,EAAYpC,OAAS,EAAI,IAAI2C,OAAOP,GAAeA,EACvEQ,IAAgBN,EAChBO,EAAcC,IAAWT,EAAWL,EAAW,GAAGW,OAAOX,EAAW,KAAKW,OAAOT,IAA0B1B,EAAlBoB,EAAc,GAAiC,GAAGe,OAAOX,EAAW,cAAeY,GAAcpC,EAAgBoB,EAAa,GAAGe,OAAOX,EAAW,cAAcW,OAAOD,GAAoBE,GAAcpC,EAAgBoB,EAAa,GAAGe,OAAOX,EAAW,aAAcO,GAAS/B,EAAgBoB,EAAa,GAAGe,OAAOX,EAAW,YAAaQ,GAAQhC,EAAgBoB,EAAa,GAAGe,OAAOX,EAAW,QAAuB,QAAdF,GAAsBF,IACvgB,OAAoBH,gBAAoB,MAAO/B,EAAS,CACtD2C,UAAWQ,GACVJ,EAAW,CACZM,KAAM,cACJT,GAAyBb,gBAAoB,OAAQ,CACvDY,UAAW,GAAGM,OAAOX,EAAW,gBAC/BM,Q,yBCuBQU,UAtD0C,SAACxB,GAwCtD,OACI,6BACI,qBAASyB,MAAO,CAAEC,QAAS,WAAaC,IAAgB3B,EAAM4B,YAA9D,wCACA,uBACIC,YAAY,EACZC,OAAQ,CAAEC,EAAG,KACbC,SAAShC,EAAMiC,aAAazD,OAC5B0D,QA9Ce,CAAC,CACxBC,MAAO,2BACPC,UAAW,WACX1D,IAAK,WACL2D,MAAO,UACR,CACCF,MAAO,+CACPC,UAAW,SACX1D,IAAK,SACL2D,MAAO,SACPC,OAAQ,SAACC,EAAQC,GAAT,OAAoBD,EAAEE,OAASD,EAAEC,QACzCC,iBAAkB,YAoCVC,WAjCiB,WACzB,IAAIC,EAAoB,IAAIC,IACH7C,EAAM8C,SAASC,QAAO,SAAAC,GAAC,OAAIC,OAAOC,IAAMF,EAAEG,MAAMC,WAAaH,OAAOjD,EAAM4B,eAGlFyB,SAAQ,SAAAL,GACrB,GAAIA,EAAEtC,OAAS4C,IAASC,KAAOP,EAAEQ,SAAU,CACvC,IAAIC,EAAab,EAAkBc,IAAIV,EAAEQ,UACzCC,EAAab,EAAkBe,IAAIX,EAAEQ,SAAUC,EAAaT,EAAEP,QAAUG,EAAkBe,IAAIX,EAAEQ,SAAUR,EAAEP,YAKpH,IAAImB,EAAqC,GASzC,OARAhB,EAAkBS,SAAQ,SAACL,EAAGa,GAC1B,IAAMC,EAAI9D,EAAMiC,aAAa8B,MAAK,SAAAC,GAAE,OAAIA,EAAGC,KAAOJ,KAClDC,GAAKF,EAAoBM,KAAK,CAC1BxF,IAAKoF,EAAEG,GACPT,SAAUM,EAAEK,KACZ1B,OAAQO,OAGTY,EAWaQ","file":"static/js/9.81125c9b.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Divider = function Divider(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$type = props.type,\n        type = _props$type === void 0 ? 'horizontal' : _props$type,\n        _props$orientation = props.orientation,\n        orientation = _props$orientation === void 0 ? 'center' : _props$orientation,\n        className = props.className,\n        children = props.children,\n        dashed = props.dashed,\n        plain = props.plain,\n        restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\", \"plain\"]);\n\n    var prefixCls = getPrefixCls('divider', customizePrefixCls);\n    var orientationPrefix = orientation.length > 0 ? \"-\".concat(orientation) : orientation;\n    var hasChildren = !!children;\n    var classString = classNames(className, prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\"), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\").concat(orientationPrefix), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dashed\"), !!dashed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-plain\"), !!plain), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classString\n    }, restProps, {\n      role: \"separator\"\n    }), children && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-inner-text\")\n    }, children));\n  });\n};\n\nexport default Divider;","import React from 'react';\nimport { Table, Divider } from 'antd';\nimport dayjs from 'dayjs';\n\nimport {\n    EnumBill,\n    EnumMonth,\n    TypeBill,\n    TypeCategory,\n    ConstMonthsText\n} from '../types';\n\ntype TypeProp = {\n    dataBill: TypeBill[],\n    dataCategory: TypeCategory[],\n    monthIndex: EnumMonth,\n}\n\nconst OutCategories: React.FunctionComponent<TypeProp> = (props): JSX.Element => {\n    const outCategoryColumns = [{\n        title: '账单类型',\n        dataIndex: 'category',\n        key: 'category',\n        align: 'center' as any,\n    }, {\n        title: '支出金额统计(￥)',\n        dataIndex: 'amount',\n        key: 'amount',\n        align: 'center' as any,\n        sorter: (a: any, b: any) => a.amount - b.amount,\n        defaultSortOrder: 'descend' as any\n    }];\n\n    const checkOutCategoryData = (): Array<object> => {  // 分类统计支出\n        let mapCategoryAmount = new Map<string, number>();\n        const dataBillForMonth = props.dataBill.filter(v => Number(dayjs(v.time).month()) === Number(props.monthIndex));  // 选择月份后的账单数据\n\n        // => Map\n        dataBillForMonth.forEach(v => {\n            if (v.type === EnumBill.Out && v.category) {  // v.type === EnumBill.Out: 只统计支出的\n                let prevAmount = mapCategoryAmount.get(v.category);\n                prevAmount ? mapCategoryAmount.set(v.category, prevAmount + v.amount) : mapCategoryAmount.set(v.category, v.amount);\n            }\n        });\n\n        // Map => Array\n        let arrayCategoryAmount: Array<object> = [];\n        mapCategoryAmount.forEach((v, k) => {\n            const c = props.dataCategory.find(vc => vc.id === k);  // 为了分类(category)的名称(name)\n            c && arrayCategoryAmount.push({\n                key: c.id,\n                category: c.name,\n                amount: v\n            });\n        });\n        return arrayCategoryAmount\n    }\n\n    return (\n        <div>\n            <Divider style={{ padding: \"0 80px\" }}>{ConstMonthsText[props.monthIndex]}账单分类统计</Divider>\n            <Table\n                pagination={false}\n                scroll={{ y: 340 }}\n                loading={props.dataCategory.length ? false : true}\n                columns={outCategoryColumns}\n                dataSource={checkOutCategoryData()}\n            />\n        </div>\n    );\n};\n\nexport default OutCategories;\n"],"sourceRoot":""}
{"version":3,"sources":["components/BillAdd.tsx"],"names":["BillAdd","props","useState","Date","billTime","setBillDate","billCategory","setBillCategory","billAmount","setBillAmount","className","showTime","onChange","value","dateString","placeholder","categoryID","dataCategory","map","v","i","Option","key","id","name","precision","defaultValue","formatter","replace","parser","amount","type","onClick","getTime","c","find","time","category","success","warn"],"mappings":"qQA+EeA,UA3DoC,SAACC,GAAwB,IAAD,EAC/BC,mBAAe,IAAIC,KAAK,IADO,mBAChEC,EADgE,KACtDC,EADsD,OAE/BH,mBAAiB,IAFc,mBAEhEI,EAFgE,KAElDC,EAFkD,OAG/BL,mBAAiB,GAHc,mBAGhEM,EAHgE,KAGpDC,EAHoD,KAsCvE,OACI,yBAAKC,UAAU,YACX,uBAAYA,UAAU,gBAAgBC,UAAQ,EAACC,SAnC9B,SAACC,EAAYC,GAClCT,EAAY,IAAIF,KAAKW,OAmCjB,uBAAQJ,UAAU,gBAAgBK,YAAY,kBAAkBH,SAjC3C,SAACI,GAC1BT,EAAgBS,KAiCPf,EAAMgB,aAAaC,KAAI,SAACC,EAAGC,GACxB,OAAO,sBAAQC,OAAR,CAAeC,IAAKF,EAAGP,MAAOM,EAAEI,IAAKJ,EAAEK,UAGtD,uBACId,UAAU,gBACVe,UAAW,EACXC,aAAc,EACdC,UAAW,SAAAd,GAAK,MAAI,gBAAIA,GAAQe,QAAQ,wBAAyB,MACjEC,OAAQ,SAAAhB,GAAK,OAAIA,EAAQA,EAAMe,QAAQ,kBAAc,IAAM,GAC3DhB,SAzCe,SAACkB,GACxBrB,EAAcqB,MA0CV,uBAAQpB,UAAU,gBAAgBqB,KAAK,UAAUC,QAxCnC,WAClB,GAAI5B,EAAS6B,YAAe,IAAI9B,KAAK,GAAG8B,UAIxC,GAAqB,KAAjB3B,EAIJ,GAAmB,IAAfE,EAAJ,CAKA,IAAM0B,EAAIjC,EAAMgB,aAAakB,MAAK,SAAAhB,GAAC,OAAIA,EAAEI,KAAOjB,KAChD4B,GAAKjC,EAAM+B,QAAQ,CACfI,KAAMhC,EACN2B,KAAMG,EAAEH,KACRM,SAAU/B,EACVwB,OAAQtB,IAEZ,IAAQ8B,QAAQ,kBAXZ,IAAQC,KAAK,oCAJb,IAAQA,KAAK,oCAJb,IAAQA,KAAK,6BAsCb","file":"static/js/7.524fd480.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport {\n    Button,\n    Select,\n    DatePicker,\n    InputNumber,\n    message\n} from 'antd';\n\nimport {\n    TypeBill,\n    TypeCategory,\n} from '../types';\nimport '../styles.css';\n\ntype TypeProp = {\n    dataCategory: TypeCategory[],\n    onClick: (billNew: TypeBill) => void\n};\n\nconst BillAdd: React.FunctionComponent<TypeProp> = (props): JSX.Element => {\n    const [billTime, setBillDate]         = useState<Date>(new Date(0));  // 日期\n    const [billCategory, setBillCategory] = useState<string>('');         // 类型\n    const [billAmount, setBillAmount]     = useState<number>(0);          // 金额\n\n    const handleDateChange = (value: any, dateString: string) => {\n        setBillDate(new Date(dateString));\n    }\n    const handleCategoryChange = (categoryID: string) => {\n        setBillCategory(categoryID);\n    }\n    const handleAmountChange = (amount: any) => {\n        setBillAmount(amount as number);\n    }\n    const handleBillAdd = () => {\n        if (billTime.getTime() === (new Date(0).getTime())) {\n            message.warn('time must be selected ~');\n            return;\n        }\n        if (billCategory === '') {\n            message.warn('category must be selected ~');\n            return;\n        }\n        if (billAmount === 0) {\n            message.warn('amount cant be ￥0.00 ~');\n            return;\n        }\n\n        const c = props.dataCategory.find(v => v.id === billCategory);  // 为了该 category 是什么 type\n        c && props.onClick({\n            time: billTime,\n            type: c.type,\n            category: billCategory,\n            amount: billAmount\n        });\n        message.success('success ~');\n    }\n\n    return (\n        <div className=\"bill-add\">\n            <DatePicker className=\"bill-add-part\" showTime onChange={handleDateChange} />\n            <Select className=\"bill-add-part\" placeholder='Select category' onChange={handleCategoryChange}>\n                {props.dataCategory.map((v, i) => {\n                    return <Select.Option key={i} value={v.id}>{v.name}</Select.Option>\n                })}\n            </Select>\n            <InputNumber\n                className=\"bill-add-part\"\n                precision={2}\n                defaultValue={0}\n                formatter={value => `￥${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                parser={value => value ? value.replace(/￥\\s?|(,*)/g, '') : 0}\n                onChange={handleAmountChange}\n            />\n            <Button className=\"bill-add-part\" type='primary' onClick={handleBillAdd}>添加账单</Button>\n        </div>\n    );\n};\n\nexport default BillAdd;\n"],"sourceRoot":""}
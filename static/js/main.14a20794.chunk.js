(this["webpackJsonpxmind-tea"]=this["webpackJsonpxmind-tea"]||[]).push([[0],{115:function(e,t,a){},169:function(e,t,a){a(170),e.exports=a(382)},186:function(e,t,a){},187:function(e,t,a){},382:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),i=a(5),u=a.n(i),l=(a(186),a(18)),m=a(111),d=a.n(m),s=(a(187),a(54),a(21)),f=(a(189),a(168)),g=(a(113),a(36)),y=(a(384),a(166)),p=(a(195),a(62)),h=(a(115),function(e){var t=Object(o.useState)(new Date(0)),a=Object(l.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(""),u=Object(l.a)(i,2),m=u[0],d=u[1],h=Object(o.useState)(0),b=Object(l.a)(h,2),v=b[0],x=b[1];return c.a.createElement("div",{className:"bill-add"},c.a.createElement(y.a,{className:"bill-add-part",showTime:!0,onChange:function(e,t){r(new Date(t))}}),c.a.createElement(g.a,{className:"bill-add-part",placeholder:"Select category",onChange:function(e){d(e)}},e.dataCategory.map((function(e,t){return c.a.createElement(g.a.Option,{key:t,value:e.id},e.name)}))),c.a.createElement(f.a,{className:"bill-add-part",precision:2,defaultValue:0,formatter:function(e){return"\uffe5".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e?e.replace(/\uffe5\s?|(,*)/g,""):0},onChange:function(e){x(e)}}),c.a.createElement(s.a,{className:"bill-add-part",type:"primary",onClick:function(){if(n.getTime()!==new Date(0).getTime())if(""!==m)if(0!==v){var t=e.dataCategory.find((function(e){return e.id===m}));t&&e.onClick({time:n,type:t.type,category:m,amount:v}),p.a.success("success ~")}else p.a.warn("amount cant be \uffe50.00 ~");else p.a.warn("category must be selected ~");else p.a.warn("time must be selected ~")}},"\u6dfb\u52a0\u8d26\u5355"))}),b=(a(141),a(87)),v=(a(130),a(53)),x=(a(280),a(29)),E=(a(385),a(167)),O=a(387),k=a(19),w=a.n(k);!function(e){e[e.Out=0]="Out",e[e.In=1]="In"}(n||(n={})),function(e){e[e.Jan=0]="Jan",e[e.Fed=1]="Fed",e[e.Mar=2]="Mar",e[e.Apr=3]="Apr",e[e.May=4]="May",e[e.Jun=5]="Jun",e[e.Jul=6]="Jul",e[e.Aug=7]="Aug",e[e.Seq=8]="Seq",e[e.Oct=9]="Oct",e[e.Nov=10]="Nov",e[e.Dec=11]="Dec"}(r||(r={}));var N=["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],I=E.a.Text,C=function(e){var t=Object(o.useState)({in:0,out:0}),a=Object(l.a)(t,2),r=a[0],i=a[1],u=[{title:"\u8d26\u5355\u65f6\u95f4",dataIndex:"time",key:"time",align:"center"},{title:"\u8d26\u5355\u7c7b\u578b",dataIndex:"type",key:"type",align:"center"},{title:"\u8d26\u5355\u5206\u7c7b",dataIndex:"category",key:"category",align:"center",filters:e.dataCategory.map((function(e){return{text:e.name,value:e.name}})),onFilter:function(e,t){return 0===t.category.indexOf(e)}},{title:"\u8d26\u5355\u91d1\u989d(\uffe5)",dataIndex:"amount",key:"amount",align:"center"}],m=c.a.createElement(x.a,{onClick:e.onClick},N.map((function(e,t){return c.a.createElement(x.a.Item,{key:t},e)})));return Object(o.useEffect)((function(){var t={in:0,out:0};e.dataBill.filter((function(t){return Number(w()(t.time).month())===Number(e.monthIndex)})).forEach((function(e){e.type===n.In?t.in+=e.amount:t.out+=e.amount})),i(t)}),[e.monthIndex,e.dataBill]),c.a.createElement("div",{className:"bill-show"},c.a.createElement("div",{className:"monnth-select-in-out"},c.a.createElement(v.a,{overlay:m},c.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},N[e.monthIndex]," ",c.a.createElement(O.a,null))),c.a.createElement(I,{className:"in-out"},"\u6536\u5165\u603b\u989d: ",c.a.createElement(I,{code:!0},"\uffe5",r.in.toFixed(2)," ")),c.a.createElement(I,{className:"in-out"},"\u652f\u51fa\u603b\u989d: ",c.a.createElement(I,{code:!0},"\uffe5",r.out.toFixed(2)))),c.a.createElement(b.a,{pagination:!1,scroll:{y:420},columns:u,dataSource:e.dataBill.filter((function(t){return Number(w()(t.time).month())===Number(e.monthIndex)})).map((function(t,a){var r=e.dataCategory.find((function(e){return e.id===t.category}));return{key:a,time:w()(t.time).format(),type:t.type===n.In?"\u6536\u5165":"\u652f\u51fa",category:r?r.name:t.category,amount:t.amount.toFixed(2)}}))}))},j=(a(380),a(165)),S=function(e){return c.a.createElement("div",null,c.a.createElement(j.a,{style:{padding:"0 80px"}},N[e.monthIndex],"\u8d26\u5355\u5206\u7c7b\u7edf\u8ba1"),c.a.createElement(b.a,{pagination:!1,scroll:{y:340},columns:[{title:"\u8d26\u5355\u7c7b\u578b",dataIndex:"category",key:"category",align:"center"},{title:"\u652f\u51fa\u91d1\u989d\u7edf\u8ba1(\uffe5)",dataIndex:"amount",key:"amount",align:"center",sorter:function(e,t){return e.amount-t.amount},defaultSortOrder:"descend"}],dataSource:function(){var t=new Map;e.dataBill.filter((function(t){return Number(w()(t.time).month())===Number(e.monthIndex)})).forEach((function(e){if(e.type===n.Out&&e.category){var a=t.get(e.category);a?t.set(e.category,a+e.amount):t.set(e.category,e.amount)}}));var a=[];return t.forEach((function(t,n){var r=e.dataCategory.find((function(e){return e.id===n}));r&&a.push({key:r.id,category:r.name,amount:t})})),a}()}))};var B=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(o.useState)([]),u=Object(l.a)(i,2),m=u[0],s=u[1],f=Object(o.useState)(r.Dec),g=Object(l.a)(f,2),y=g[0],p=g[1];return Object(o.useEffect)((function(){d.a.parse("https://raw.githubusercontent.com/xmindltd/hiring/master/frontend-1/bill.csv",{download:!0,complete:function(e){if(0===e.errors.length){for(var t=e.data[0].indexOf("type"),a=e.data[0].indexOf("time"),r=e.data[0].indexOf("category"),o=e.data[0].indexOf("amount"),c=[],i=1;i<e.data.length;i++)c.push({time:new Date(Number(e.data[i][a])),type:Number(e.data[i][t]),category:String(e.data[i][r]),amount:Number(e.data[i][o])});n(c)}}})}),[]),Object(o.useEffect)((function(){d.a.parse("https://raw.githubusercontent.com/xmindltd/hiring/master/frontend-1/categories.csv",{download:!0,complete:function(e){if(0===e.errors.length){for(var t=e.data[0].indexOf("id"),a=e.data[0].indexOf("type"),n=e.data[0].indexOf("name"),r=[],o=1;o<e.data.length;o++)r.push({id:String(e.data[o][t]),type:Number(e.data[o][a]),name:String(e.data[o][n])});s(r)}}})}),[]),c.a.createElement("div",{className:"App"},c.a.createElement(h,{dataCategory:m,onClick:function(e){n((function(t){return t.push(e),t}))}}),c.a.createElement(C,{dataBill:a,dataCategory:m,monthIndex:y,onClick:function(e){var t=e.key;p(t)}}),c.a.createElement(S,{dataBill:a,dataCategory:m,monthIndex:y}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.14a20794.chunk.js.map